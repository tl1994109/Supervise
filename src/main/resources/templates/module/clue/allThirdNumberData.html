<!DOCTYPE HTML>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<meta charset="utf-8">
<head th:include="include :: header"></head>
<style type="text/css">

    .table-striped .table, .fixed-table-container, table, .table-striped .table, .table > thead > tr > th, .table > tbody > tr > th, .table > tfoot > tr > th, .table > thead > tr > td, .table > tbody > tr > td, .table > tfoot > tr > td {
        border-bottom: 0px !important;
    }

    body, div, td, span{
        font: normal 12px tahoma, arial, helvetica, sans-serif;
    }
    .report-result-area{
        padding-top: 8px;
        background-color: transparent;
    }
    .crst{
        width: 100%;
        height: 100%;
    }
    .crs76534873{
        overflow: hidden;
    }
    .crs-1138720466{
        background-color: #ffffff;
    }
    .crs-799493009{
        width: 100%;
        height: 100%;
        line-height: 1.3;
        text-align: center;
        font-size: 12pt;
        font-family: "宋体";
        font-weight: 700;
    }
    .crs-2136543980{
        word-break: break-all;
        word-wrap: break-word;
        /*padding-left: 4px;*/
        padding-right: 4px;
        padding-top: 3px;
        padding-bottom: 2px;
    }
    .crs-1883216748{
        width: 100%;
        height: 100%;
        line-height: 1.3;
        font-size: 10pt;
        font-family: "宋体";
    }
    .crs715059164{
        width: 100%;
        height: 100%;
        line-height: 1.3;
        text-align: right;
        font-size: 10pt;
        font-family: "宋体";
    }
    .crs-1762722337{
        background-color: #ffffff;
        border-top: 1px solid #000000;
        border-bottom: 1px solid #000000;
        border-left: 1px solid #000000;
        border-right: 1px solid #000000;
    }
    .crs1121568101{
        background-color: #ffffff;
        border-top: 1px solid #000000;
        border-bottom: 1px solid #000000;
        border-right: 1px solid #000000;
    }
    .crs-1459024531{
        width: 100%;
        height: 100%;
        line-height: 1.3;
        text-align: center;
        font-size: 10pt;
        font-family: "宋体";
        font-weight: 700;
    }
    .crs1937588765{
        background-color: #ffffff;
        border-bottom: 1px solid #000000;
        border-left: 1px solid #000000;
        border-right: 1px solid #000000;
    }
    .crs-1705350621{
        background-color: #ffffff;
        border-bottom: 1px solid #000000;
        border-right: 1px solid #000000;
    }
    .crs-1039466107{
        width: 100%;
        height: 100%;
        line-height: 1.3;
        text-align: center;
        font-size: 10pt;
        font-family: "宋体";
    }
    .report-order{
        height: 10px;
        width: 10px;
        cursor: hand;
        margin-left: 4px;
        background-image: url(images/report/order.gif);
        background-repeat: no-repeat;
    }
    .report-page-go{
        height: 11px;
        width: 11px;
        cursor: hand;
        background-image: url(images/report/go.gif);
        background-repeat: no-repeat;
    }

    a:link, a:visited{
        color: #107ebf;
        text-decoration: none !important;
    }
    input{
        -webkit-appearance: textfield;
        background-color: white;
        -webkit-rtl-ordering: logical;
        cursor: text;
        padding: 1px;
        border-width: 2px;
        border-style: inset;
        border-color: initial;
        border-image: initial;
    }
    input, textarea, select, button {
        text-rendering: auto;
        color: initial;
        letter-spacing: normal;
        word-spacing: normal;
        text-transform: none;
        text-indent: 0px;
        text-shadow: none;
        display: inline-block;
        text-align: start;
        margin: 0em;
        font: 400 11px system-ui;
    }
    input, textarea, select, button, meter, progress {
        -webkit-writing-mode: horizontal-tb !important;
    }
    input:not([type="image" i]), textarea {
        box-sizing: border-box;
    }






    * {
        margin: 0;
        padding: 0;
    }

    #ele {
        padding: 20px
    }

    .clearfix::after {
        content: ".";
        clear: both;
        display: block;
        overflow: hidden;
        font-size: 0;
        height: 0;
    }

    .clearfix {
        zoom: 1;
    }






    * {
        margin: 0;
        padding: 0;
        list-style: none;
    }
    .fl {
        float: left;
    }
    .pagger {
        height: 30px;
        /*margin: 20px auto 0px auto;*/
        text-align: center;
        width: 730px;
        font-family: PingFangSC-Regular;
        font-size: 12px;
        color: #303133;
        display: block;
    }
    .tableBox{
        padding-bottom: 0px;
    }
    .pagger-box{

        width: 100%;

    }

    .pagger button {
        padding: 0 5px;
        margin: 0 10px;
        height: 18px;
        float: left;
        cursor: pointer;
        border: 0px solid #ebebeb;
        background-color: #ffffff;
    }
    .pagger .first-page,
    .pagger .last-page {
        margin: 0;
    }
    .pagger .pageWrap {
        height: 40px;
        float: left;
        overflow: hidden;
    }
    .pagger .pageWrap ul {
        width: 999999999px;
        height: 40px;
        float: left;
    }
    .pagger .pageWrap ul li {
        width: 15px;
        height: 16px;
        margin: 0px 15px;
        border-radius: 15px;
        pagger-sizing: border-pagger;
        cursor: pointer;
        float: left;
    }
    .pagger .pageWrap ul .sel-page {
        background-color: #2D5FAD;
        color: #fff;
        width: auto;
        padding: 0 4px;
    }
    .pagger .jump-text {
        width: 30px;
        height: 20px;
        pagger-sizing: border-pagger;
        border:1px solid #E5E6E7;
        text-align: center;
        margin: 0 5px;
        float: left;
    }
    .pagger .jump-button {
        margin: 0;
        float: left;
    }
    .pagger .total-pages,
    .pagger .total-count {
        margin-left: 10px;
        float: left;
        font-size: 14px;
    }
</style>

<body class="gray-bg">
<input type="hidden" id="tatalCounts" th:value="*{tatalCounts}">
<input type="hidden" id="totalPageNum" th:value="*{totalPageNum}">
<input type="hidden" id="jbfyId" th:value="*{jbfyId}">
<input type="hidden" id="status" th:value="*{status}">
<input type="hidden" id="courtId" th:value="*{courtId}">
<input type="hidden" id="isAll" th:value="*{isAll}">
<input type="hidden" id="ryId" th:value="*{ryId}">
<input type="hidden" id="ryName" th:value="*{ryName}">
<input type="hidden" id="courtName" th:value="*{courtName}">
<input type="hidden" id="startDate" th:value="*{startDate}">
<input type="hidden" id="endDate" th:value="*{endDate}">


<div class="container-div" style="padding: 10px 20px">
    <div class="col-sm-12 select-table table-striped"  id="div">
    </div>
    <div class="col-sm-12 pagger-box pagger" id="box" align="center" style="background-color:white "></div>
</div>
<div th:include="include :: footer"></div>
<script type="text/javascript">
    (function($, window, document) {
        function Paging(el, options) {
            this.el = el;
            this.options = {
                pageNo: options.initPageNo || 1, // 初始页码
                totalPages: options.totalPages || 1, //总页数
                totalCount: options.totalCount || '', // 条目总数
                slideSpeed: options.slideSpeed || 0, // 缓动速度
                jump: options.jump || false, // 支持跳转
                callback: options.callback || function() {} // 回调函数
            };
            this.init();
        }
        // 给实例对象添加公共属性和方法
        Paging.prototype = {
            constructor: Paging,
            init: function() {
                this.createDom();
                this.bindEvents();
            },
            createDom: function() {

                var that = this,
                    ulDom = '',
                    jumpDom = '',
                    content = '',
                    liWidth = 45, // li的宽度
                    totalPages = that.options.totalPages, // 总页数
                    wrapLength = 0;
                totalPages > 5 ? wrapLength = 5 * liWidth+8 : wrapLength = totalPages * liWidth+8;
                for (var i = 1; i <= that.options.totalPages; i++) {
                    i != 1 ? ulDom += '<li>' + i + '</li>' : ulDom += '<li class="sel-page">' + i + '</li>';
                }
                that.options.jump ? jumpDom = '<input type="text" placeholder="1" class="jump-text jumpText" ><button type="button" class="jump-button" >跳转</button>' : jumpDom = '';
                content = '<div class="pagger-box"><button type="button"  class="turnPage first-page">首页</button>' +
                    '<button class="turnPage pre-page">上一页</button>' +
                    '<div class="pageWrap" style="width:' + wrapLength + 'px">' +
                    '<ul class="pageSelect" style="transition:all ' + that.options.slideSpeed + 'ms">' +
                    ulDom +
                    '</ul></div>' +
                    '<button class="turnPage next-page">下一页</button>' +
                    '<button type="button" class="last-page ">尾页</button>' +
                    jumpDom +
                    '<p class="total-pages">共&nbsp;' +
                    that.options.totalPages +
                    '&nbsp;页</p>' +
                    '<p class="total-count">' +
                    that.options.totalCount +
                    '</p></div>';
                that.el.html(content);
            },
            bindEvents: function() {
                var that = this;
                var $el =that.el;
                var pageSelect = $el.find('.pageSelect'), // ul
                    lis = pageSelect.children(), // li的集合
                    liWidth = 45, // li的宽度
                    totalPages = that.options.totalPages, // 总页数
                    pageIndex = that.options.pageNo, // 当前选择的页码
                    distance = 0, // ul移动距离
                    prePage = $el.find('.pre-page'),
                    nextPage = $el.find('.next-page'),
                    firstPage = $el.find('.first-page'),
                    lastPage = $el.find('.last-page'),
                    jumpBtn = $el.find('.jump-button'),
                    jumpText = $el.find('.jump-text');
                prePage.on('click', function() {
                    pageIndex--;
                    if (pageIndex < 1) pageIndex = 1;
                    handles(pageIndex);
                })

                jumpText.on("keyup",function(event){
                    if(event.keyCode ==13){
                        jumpBtn.trigger("click");
                    }
                });

                nextPage.on('click', function() {
                    pageIndex++;
                    if (pageIndex > lis.length) pageIndex = lis.length;
                    handles(pageIndex);
                })

                firstPage.on('click', function() {
                    pageIndex = 1;
                    handles(pageIndex);
                })

                lastPage.on('click', function() {
                    pageIndex = totalPages;
                    handles(pageIndex);
                })

                jumpBtn.on('click', function() {
                    var jumpNum = parseInt(jumpText.val().replace(/\D/g, ''));
                    if (jumpNum && jumpNum >= 1 && jumpNum <= totalPages) {
                        pageIndex = jumpNum;
                        handles(pageIndex);
                        jumpText.val(jumpNum);
                    }else{
                        jumpText.val(totalPages);
                        jumpBtn.trigger("click");
                    }
                })

                lis.on('click', function() {
                    pageIndex = $(this).index() + 1;
                    handles(pageIndex);
                })

                function handles(pageIndex) {
                    jumpText.val(pageIndex);
                    lis.removeClass('sel-page').eq(pageIndex - 1).addClass('sel-page');
                    if (totalPages <= 5) {
                        that.options.callback(pageIndex);
                        return false;
                    }
                    if (pageIndex >= 3 && pageIndex <= totalPages - 2) distance = (pageIndex - 3) * liWidth;
                    if (pageIndex == 2 || pageIndex == 1) distance = 0;
                    if (pageIndex > totalPages - 2) distance = (totalPages - 5) * liWidth;
                    pageSelect.css('transform', 'translateX(' + (-distance) + 'px)');
                    pageIndex == 1 ? firstPage.attr('disabled', true) : firstPage.attr('disabled', false);
                    pageIndex == 1 ? prePage.attr('disabled', true) : prePage.attr('disabled', false);
                    pageIndex == totalPages ? lastPage.attr('disabled', true) : lastPage.attr('disabled', false);
                    pageIndex == totalPages ? nextPage.attr('disabled', true) : nextPage.attr('disabled', false);
                    that.options.callback(pageIndex);
                }

                handles(that.options.pageNo); // 初始化页码位置
            }
        }
        $.fn.paging = function(options) {
            return new Paging($(this), options);
        }
    })(jQuery, window, document);
</script>
<script th:inline="javascript">
    var editFlag = [[${@permission.hasPermi('module:clue:edit')}]];
    var removeFlag = [[${@permission.hasPermi('module:clue:remove')}]];
    var releaseFlag = [[${@permission.hasPermi('module:processMatter:addDubvioEvent')}]];
    var listFlag = [[${@permission.hasPermi('module:clue:list')}]];
    var prefix = ctx + "module/clue";

    var tatalCounts = $("#tatalCounts").val();
    var totalPageNum = $("#totalPageNum").val();
    var jbfyId = $("#jbfyId").val();
    var status = $("#status").val();
    var courtId=$("#courtId").val();
    var isAll=$("#isAll").val();
    var ryId=$("#ryId").val();
    var ryName=$("#ryName").val();
    var courtName=$("#courtName").val();
    var startDate=$("#startDate").val();
    var endDate=$("#endDate").val();


    $('#box').paging({
        initPageNo: 1, // 初始页码
        totalPages: totalPageNum, //总页数
        totalCount: '合计' + tatalCounts + '条数据', // 条目总数
        slideSpeed: 100, // 缓动速度。单位毫秒
        jump: true, //是否支持跳转
        callback: function(page) { // 回调函数
            $.ajax({
                url:prefix+"/allThirdNumberDataPage",
                data:{page:page,jbfyId:jbfyId,status:status,courtId:courtId,isAll:isAll,ryId:ryId,ryName:ryName,courtName:courtName,startDate:startDate,endDate:endDate},
                type:"get",
                success:function (data) {
                    $("#div").html(data);
                    $('#div table td').find('a').on('click', function () {
                        var str1 = $(this).attr('href');
                        var str2 = str1.substr(str1.indexOf('NAjlb'));
                        var str3 = str2.split(',');
                        var str4 = str3[0].substr(9);
                        var ajlb = str4.split('\\')[0]
                        var ajlbs=ajlb.substring(1,ajlb.length)
                        var str5 = str1.substr(str1.indexOf('CBhAj'));
                        var str6 = str5.split(',');
                        var str7 = str6[0].substr(9);
                        var ajbh = str7.split('\\')[0];
                        var ajbhs=ajbh.substring(1,ajbh.length);
                        $.ajax({
                            url:prefix+"/getAddress",
                            data:{ajbhs:ajbhs,ajlbs:ajlbs,jbfyId:jbfyId},
                            type:"get",
                            success:function (data) {
                                window.open(data);
                            }
                        })
                    })

                }
            })
        }
    })


</script>
</body>
</html>